{{- $githubBase := "https://github.com/pjpscriv/pjpscriv.github.io" -}}
{{- $githubUrl := $githubBase -}}
{{- $linkText := i18n "footer.view_on" -}}

{{- if .File -}}
  {{/* Page has a source file */}}
  {{- $filePath := replace .File.Path "\\" "/" -}}
  {{- $githubUrl = printf "%s/edit/main/content/%s/%s?plain=1" $githubBase .Site.LanguageCode $filePath -}}
  {{- $linkText = i18n "footer.edit_on" -}}
{{- else if .Section -}}
  {{/* List page for a section */}}
  {{- $githubUrl = printf "%s/tree/main/content/%s/%s" $githubBase .Site.LanguageCode .Section -}}
{{- else if eq .RelPermalink "/" -}}
  {{/* Homepage */}}
  {{- $githubUrl = printf "%s/blob/main/layouts/index.html" $githubBase -}}
{{- end -}}

<footer>
  <ul class="intro__links">
    {{- range .Site.Data.social }}
    <li>
      <a class="icon-link" href="{{- .url -}}" target="_blank" {{ if eq .title "Mastodon" }}rel="me"{{ end }}>
        {{ .svg | safeHTML -}}
      </a>
    </li>
    {{- end -}}
  </ul>
  <p>Â© <span id="copyright-year">{{ now.Year }}</span> {{ .Site.Title }} â€¢ ðŸ’»ðŸŒ±</p>
  <p>{{- i18n "footer.powered_by" -}} <a href="https://gohugo.io" target="_blank">Hugo</a> â€¢ {{ $linkText }} <a href="{{- $githubUrl -}}" target="_blank" rel="noopener noreferrer">GitHub</a></p>
</footer>